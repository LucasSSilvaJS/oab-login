<ion-content class="login-content ion-padding">
  <app-loading-overlay 
    [show]="isSubmitting" 
    [message]="loadingMessage">
  </app-loading-overlay>
  
  <div class="center">
    <div class="login-card">
      <button class="card-exit" (click)="exitApp()" aria-label="Fechar">✕</button>
    <div class="left">
      <h1 class="title">Login</h1>
      <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
        <ion-item lines="none" class="input-item oab-mask-item" [class.invalid]="oabNumberCtrl.invalid && oabNumberCtrl.touched">
          <ion-label position="stacked">Nº da OAB</ion-label>
          <div class="oab-mask-wrapper">
            <div class="oab-prefix-box">OAB</div>
            <span class="oab-separator">-</span>
            <div class="oab-state-box">PE</div>
            <span class="oab-separator">-</span>
            <div class="oab-input-wrapper">
              <ion-input inputmode="numeric" formControlName="oabNumber" placeholder="10001" class="oab-number-input"></ion-input>
            </div>
          </div>
          <ion-note slot="helper">Apenas números</ion-note>
          <ion-note slot="error">Informe um número válido</ion-note>
        </ion-item>

        <ion-item lines="none" class="input-item" [class.invalid]="securityCodeCtrl.invalid && securityCodeCtrl.touched">
          <ion-label position="stacked">Código de segurança</ion-label>
          <ion-input type="password" formControlName="securityCode" placeholder="Digite o código"></ion-input>
          <ion-note slot="error">Informe de 3 a 8 caracteres</ion-note>
        </ion-item>

        <ion-button class="access-btn" expand="block" type="submit" [disabled]="isSubmitting">
          Acessar
        </ion-button>
        <!-- Botão sair removido daqui; substituído pelo X no topo do cartão -->
      </form>
      <div class="config-section">
        <ion-button 
          fill="clear" 
          size="small" 
          (click)="openSessionConfig()"
          class="config-btn">
          <ion-icon slot="start" name="settings-outline"></ion-icon>
          Configurar Sessão
        </ion-button>
      </div>
    </div>
    <div class="right">
      <img src="assets/oab-logo.png" alt="OAB" />
    </div>
    </div>
  </div>
</ion-content>


